# 1、双闭环调速系统模型搭建
## 1）在仿真作业2的单闭环调速模型系统上，进行双臂环调速仿真实验，电机参数不变：
```
额定电枢电压 Va=230V
额定电枢电流 Ia=349A
电枢电阻Ra=0.0144欧姆
转矩和反电动势常数K=1.225（T = K*I，E = K*w)
额定转速 1750 rpm
转动惯量J=1.82 kg*m^2
额定输出机械功率为74.6KW
电机阻尼系数约为0.117 N*m/(rad/s)
```
## 2）使用理想可调电流源Simscape/Foundation Library/Electrical/Electrical Sources/Controlled Current Source代替仿真作业2中的电压源  
# 2、双闭环调速系统算法仿真
## 1）在采用理想可调电流源的基础上，采用速度比例积分控制采用纯比例P控制，选择合适的比例增益和积分增益，得到较为理想的阶跃响应曲线。比较该阶跃响应与仿真作业2的理想阶跃响应的差别。
![](https://i.imgur.com/fRaTPxL.png)
将积分环节的增益调为零即为比例环节，将积分环节的增益调为其他值则为比例积分环节
### a P调节
![](https://i.imgur.com/0fYDUvP.jpg)
### b PI调节
![](https://i.imgur.com/Q1uPOqb.jpg)
在调节过程中发现，比例环节会确定速度响应的大致走势，积分环节可以调节稳定时间，但会产生超调
## 2）用电压源+PI控制器构造更接近真实的电流环，代替理想可调电流源，调整电流环的PI控制器增益和速度电流环增益，获得较为理想的阶跃响应曲线，与单闭环阶跃响应曲线、理想电流源的阶跃响应曲线进行对比。
在电压的输入端引出电流信号，与进行过比例积分环节的速度共同在进行比例积分调节，将产生的信号引入可调电压源，是为双闭环。
![](https://i.imgur.com/ZdQmfDz.png)
### 双闭环调节
![](https://i.imgur.com/panB7Bn.jpg)
在调节过程中发现，调节速度单的的哪一环会确定速度响应曲线的形状，但一般会产生巨大的电流冲击，通过调节公共环，可以减小这种冲击。
通过对比可以发现，速度响应大致相同的情况下，双闭环可以通过调节公共环的比例增益与积分增益来大大减小电流的冲击，效果比较理想。
