# 直流双闭环调速
##1）采用理想可调电流源
在采用理想可调电流源的基础上，分别采用纯比例P控制和比例积分控制，
选择合适的比例增益（和积分增益），得到较为理想的阶跃响应曲线。
以下为该阶跃响应与仿真作业2的理想阶跃响应的差别的比较。
1】纯比例控制
取Kp=10
下图为本次仿真阶跃响应曲线（第一张图为空载，第二张图为额定转矩）
![avatar](https://github.com/caizf1999/homework/blob/master/U201614227/%E4%BB%BF%E7%9C%9F%E4%BD%9C%E4%B8%9A3-%E7%9B%B4%E6%B5%81%E5%8F%8C%E9%97%AD%E7%8E%AF%E8%B0%83%E9%80%9F/%E6%AF%94%E4%BE%8B%E6%8E%A7%E5%88%B6%E7%A9%BA%E8%BD%BD%E5%9B%BE.png)
![avatar](https://github.com/caizf1999/homework/blob/master/U201614227/%E4%BB%BF%E7%9C%9F%E4%BD%9C%E4%B8%9A3-%E7%9B%B4%E6%B5%81%E5%8F%8C%E9%97%AD%E7%8E%AF%E8%B0%83%E9%80%9F/%E6%AF%94%E4%BE%8B%E6%8E%A7%E5%88%B6%E9%A2%9D%E5%AE%9A%E8%BD%BD%E8%8D%B7%E5%9B%BE.png)
下图为作业2为20%超调量时的阶跃响应仿真曲线（第一张图为空载，第二张图为额定转矩）
![avatar](https://github.com/caizf1999/homework/blob/master/U201614227/%E4%BB%BF%E7%9C%9F%E4%BD%9C%E4%B8%9A3-%E7%9B%B4%E6%B5%81%E5%8F%8C%E9%97%AD%E7%8E%AF%E8%B0%83%E9%80%9F/20%25%E7%A9%BA%E8%BD%BD%E5%9B%BE.png)
![avatar](https://github.com/caizf1999/homework/blob/master/U201614227/%E4%BB%BF%E7%9C%9F%E4%BD%9C%E4%B8%9A3-%E7%9B%B4%E6%B5%81%E5%8F%8C%E9%97%AD%E7%8E%AF%E8%B0%83%E9%80%9F/20%25%E9%A2%9D%E5%AE%9A%E8%BD%BD%E8%8D%B7%E5%9B%BE.png)
经由对比可知：采用纯比例环节控制时，理想电流源的阶跃响应曲线几乎没有稳态误差（随着Kp不断增大），
且响应时间较短，超调量为零，但缺点在于启动时电路电流太大，已损坏电路。而单阶闭环电路响应时间慢，稳态误差和超调量非常大
2】比例积分控制
取Kp=10，ki=0.05
下图为本次仿真阶跃响应曲线（第一张图为空载，第二张图为额定转矩）
![avatar](https://github.com/caizf1999/homework/blob/master/U201614227/%E4%BB%BF%E7%9C%9F%E4%BD%9C%E4%B8%9A3-%E7%9B%B4%E6%B5%81%E5%8F%8C%E9%97%AD%E7%8E%AF%E8%B0%83%E9%80%9F/%E6%AF%94%E4%BE%8B%E7%A7%AF%E5%88%86%E6%8E%A7%E5%88%B6%E7%A9%BA%E8%BD%BD%E5%9B%BE.png)
![avatar](https://github.com/caizf1999/homework/blob/master/U201614227/%E4%BB%BF%E7%9C%9F%E4%BD%9C%E4%B8%9A3-%E7%9B%B4%E6%B5%81%E5%8F%8C%E9%97%AD%E7%8E%AF%E8%B0%83%E9%80%9F/%E6%AF%94%E4%BE%8B%E7%A7%AF%E5%88%86%E6%8E%A7%E5%88%B6%E9%A2%9D%E5%AE%9A%E8%BD%BD%E8%8D%B7%E5%9B%BE.png)
下图为作业2阶跃响应仿真曲线（第一张图为空载，第二张图为额定转矩）
![avatar](https://github.com/caizf1999/homework/blob/master/U201614227/%E4%BB%BF%E7%9C%9F%E4%BD%9C%E4%B8%9A3-%E7%9B%B4%E6%B5%81%E5%8F%8C%E9%97%AD%E7%8E%AF%E8%B0%83%E9%80%9F/%E4%BD%9C%E4%B8%9A2%E7%A9%BA%E8%BD%BD%E5%9B%BE.png)
![avatar](https://github.com/caizf1999/homework/blob/master/U201614227/%E4%BB%BF%E7%9C%9F%E4%BD%9C%E4%B8%9A3-%E7%9B%B4%E6%B5%81%E5%8F%8C%E9%97%AD%E7%8E%AF%E8%B0%83%E9%80%9F/%E4%BD%9C%E4%B8%9A2%E9%A2%9D%E5%AE%9A%E8%B4%9F%E8%BD%BD%E5%9B%BE.png)
经对比可知：采用比例积分控制时：若控制的为电压源，则结果没有稳态误差，且电路开启电流较小，但超调量大且响应时间慢
若控制电流源，则稳态误差没有（随电路ki增大），电路开启电流大，但没有超调量且响应时间短
##2）双闭环
系统搭建如下图，在外速度环内加入一个内电流环：
![avatar](https://github.com/caizf1999/homework/blob/master/U201614227/%E4%BB%BF%E7%9C%9F%E4%BD%9C%E4%B8%9A3-%E7%9B%B4%E6%B5%81%E5%8F%8C%E9%97%AD%E7%8E%AF%E8%B0%83%E9%80%9F/%E5%8F%8C%E9%97%AD%E7%8E%AF%E8%B0%83%E9%80%9F%E7%94%B5%E8%B7%AF%E5%9B%BE.png)
取电流环Kp=1，ki=0.05，取调速环Kp=10，ki=0.05
得到如下阶跃响应曲线（第一张图为空载，第二张图为额定转矩）
![avatar](https://github.com/caizf1999/homework/blob/master/U201614227/%E4%BB%BF%E7%9C%9F%E4%BD%9C%E4%B8%9A3-%E7%9B%B4%E6%B5%81%E5%8F%8C%E9%97%AD%E7%8E%AF%E8%B0%83%E9%80%9F/%E5%8F%8C%E9%97%AD%E7%8E%AF%E7%A9%BA%E8%BD%BD%E5%9B%BE.png)
![avatar](https://github.com/caizf1999/homework/blob/master/U201614227/%E4%BB%BF%E7%9C%9F%E4%BD%9C%E4%B8%9A3-%E7%9B%B4%E6%B5%81%E5%8F%8C%E9%97%AD%E7%8E%AF%E8%B0%83%E9%80%9F/%E5%8F%8C%E9%97%AD%E7%8E%AF%E9%A2%9D%E5%AE%9A%E8%B4%9F%E8%BD%BD%E5%9B%BE.png)
经过对比可知：双闭环调速电路基本没有静差，静态特性很硬，随负载增大（若ki足够大）转速几乎不变
动态响应快，启动时间短，调整方便，且没有超调，缺点在于得到较硬负载特性的同时需增大Kp和ki，则增大了启动电流.
